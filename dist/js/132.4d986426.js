"use strict";(self["webpackChunkfitmind_frontend"]=self["webpackChunkfitmind_frontend"]||[]).push([[132],{9132:function(a,e,l){l.r(e),l.d(e,{default:function(){return Y}});var s=l(6768),t=l(4232),o=l(5130),n=l(3153);const i={class:"app-container"},c={class:"top-nav"},d={class:"nav-container"},r={class:"nav-actions"},u={class:"main-layout"},g={class:"sidebar-header"},v={class:"goals-list"},k={class:"goal-info"},p={class:"goal-details"},L={class:"goal-badge"},h={class:"activity-badge"},m={class:"goal-actions"},y=["onClick"],b={key:0,class:"empty-state"},G={class:"content-area"},f={class:"dashboard-content"},w={class:"welcome-section"},C={class:"welcome-text"},W={key:0,class:"success-message"},M={class:"stats-grid"},_={class:"stat-card goals-card"},A={class:"stat-card plans-card"},E={class:"meal-plans-section"},P={key:0,class:"meal-plans-list"},T={class:"plan-header"},F={class:"plan-date"},O={class:"plan-content"},S={class:"plan-from"},X={class:"plan-notes"},D={key:0,class:"plan-calories"},I={key:1,class:"empty-state-plans"},N={class:"logout-section"},U={class:"form-group"},Q={class:"form-group"},x={class:"form-group"},V={class:"modal-actions"};function $(a,e,l,$,q,B){const J=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("header",c,[(0,s.Lk)("div",d,[e[17]||(e[17]=(0,s.Lk)("div",{class:"logo-section"},[(0,s.Lk)("div",{class:"brand-logo"},[(0,s.Lk)("img",{src:n,alt:"Fit&Mind Logo"})]),(0,s.Lk)("span",{class:"brand-name"},"Fit&Mind")],-1)),(0,s.Lk)("nav",{class:(0,t.C4)(["nav-links",{"mobile-open":q.mobileMenuOpen}])},[(0,s.bF)(J,{to:"/",class:"nav-link"},{default:(0,s.k6)(()=>[...e[14]||(e[14]=[(0,s.eW)("HOME",-1)])]),_:1}),(0,s.bF)(J,{to:"/dashboard",class:"nav-link"},{default:(0,s.k6)(()=>[...e[15]||(e[15]=[(0,s.eW)("PROFILE",-1)])]),_:1}),(0,s.bF)(J,{to:"/contact",class:"nav-link"},{default:(0,s.k6)(()=>[...e[16]||(e[16]=[(0,s.eW)("CONTACT",-1)])]),_:1})],2),(0,s.Lk)("div",r,[a.showLanding?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"nav-btn-login",onClick:e[0]||(e[0]=e=>a.goToAuth("login"))}," LOG IN ")):(0,s.Q3)("",!0),a.showLanding?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"nav-btn-signup",onClick:e[1]||(e[1]=e=>a.goToAuth("register"))}," SIGN UP ")):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"mobile-menu-btn",onClick:e[2]||(e[2]=a=>q.mobileMenuOpen=!q.mobileMenuOpen)}," â˜° ")])])]),(0,s.Lk)("div",u,[(0,s.Lk)("aside",{class:(0,t.C4)(["sidebar",{"mobile-open":q.sidebarOpen}])},[(0,s.Lk)("div",g,[e[18]||(e[18]=(0,s.Lk)("h3",null,"MY GOALS",-1)),(0,s.Lk)("button",{class:"close-sidebar",onClick:e[3]||(e[3]=a=>q.sidebarOpen=!1)},"âœ•")]),(0,s.Lk)("div",v,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(q.goals,a=>((0,s.uX)(),(0,s.CE)("div",{key:a.id,class:"goal-item"},[(0,s.Lk)("div",k,[(0,s.Lk)("strong",null,(0,t.v_)(a.goalType),1),(0,s.Lk)("div",p,[(0,s.Lk)("span",L,"ðŸŽ¯ "+(0,t.v_)(a.targetWeight)+"kg",1),(0,s.Lk)("span",h,"ðŸ’ª "+(0,t.v_)(a.activityLevel),1)])]),(0,s.Lk)("div",m,[(0,s.Lk)("button",{onClick:e=>B.deleteGoal(a.id),class:"icon-btn delete",title:"Delete"},"ðŸ—‘",8,y)])]))),128)),0===q.goals.length?((0,s.uX)(),(0,s.CE)("div",b,[...e[19]||(e[19]=[(0,s.Lk)("span",{class:"empty-icon"},"ðŸŽ¯",-1),(0,s.Lk)("p",null,"No goals yet. Add your first goal!",-1)])])):(0,s.Q3)("",!0)]),(0,s.Lk)("button",{class:"add-goal-btn",onClick:e[4]||(e[4]=a=>q.showAddGoal=!0)},[...e[20]||(e[20]=[(0,s.Lk)("span",{class:"btn-icon"},"âž•",-1),(0,s.eW)(" Add New Goal ",-1)])])],2),(0,s.Lk)("main",G,[(0,s.Lk)("button",{class:"mobile-sidebar-toggle",onClick:e[5]||(e[5]=a=>q.sidebarOpen=!0)},[...e[21]||(e[21]=[(0,s.Lk)("span",null,"ðŸŽ¯",-1),(0,s.eW)(" My Goals ",-1)])]),(0,s.Lk)("div",f,[(0,s.Lk)("div",w,[e[24]||(e[24]=(0,s.Lk)("h1",null,"User Dashboard",-1)),(0,s.Lk)("p",C,[e[22]||(e[22]=(0,s.eW)("Welcome back, ",-1)),(0,s.Lk)("strong",null,(0,t.v_)(q.user.name),1),e[23]||(e[23]=(0,s.eW)("! ðŸŽ¯",-1))])]),(0,s.bF)(o.eB,{name:"fade"},{default:(0,s.k6)(()=>[q.successMessage?((0,s.uX)(),(0,s.CE)("div",W,[e[25]||(e[25]=(0,s.Lk)("span",{class:"success-icon"},"âœ…",-1)),(0,s.eW)((0,t.v_)(q.successMessage),1)])):(0,s.Q3)("",!0)]),_:1}),(0,s.Lk)("div",M,[(0,s.Lk)("div",_,[e[26]||(e[26]=(0,s.Lk)("div",{class:"stat-icon"},"ðŸŽ¯",-1)),(0,s.Lk)("h3",null,(0,t.v_)(q.goals.length),1),e[27]||(e[27]=(0,s.Lk)("p",null,"Active Goals",-1))]),(0,s.Lk)("div",A,[e[28]||(e[28]=(0,s.Lk)("div",{class:"stat-icon"},"ðŸ“‹",-1)),(0,s.Lk)("h3",null,(0,t.v_)(q.mealPlans.length),1),e[29]||(e[29]=(0,s.Lk)("p",null,"Meal Plans",-1))])]),(0,s.Lk)("div",E,[e[36]||(e[36]=(0,s.Lk)("div",{class:"section-header"},[(0,s.Lk)("h2",null,"ðŸ“‹ My Meal Plans")],-1)),q.mealPlans.length>0?((0,s.uX)(),(0,s.CE)("div",P,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(q.mealPlans,a=>((0,s.uX)(),(0,s.CE)("div",{key:a.id,class:"meal-plan-card"},[(0,s.Lk)("div",T,[(0,s.Lk)("h3",null,(0,t.v_)(a.goal_type||"General Plan"),1),(0,s.Lk)("span",F,(0,t.v_)(B.formatDate(a.created_at)),1)]),(0,s.Lk)("div",O,[(0,s.Lk)("p",S,[e[30]||(e[30]=(0,s.Lk)("span",{class:"from-icon"},"ðŸ‘¨â€âš•ï¸",-1)),e[31]||(e[31]=(0,s.Lk)("strong",null,"From:",-1)),(0,s.eW)(" "+(0,t.v_)(a.nutritionist?.name||"Nutritionist"),1)]),(0,s.Lk)("div",X,[e[32]||(e[32]=(0,s.Lk)("strong",null,"ðŸ“ Plan Details:",-1)),(0,s.Lk)("p",null,(0,t.v_)(a.notes),1)]),a.daily_calories?((0,s.uX)(),(0,s.CE)("div",D,[e[33]||(e[33]=(0,s.Lk)("span",{class:"calories-icon"},"ðŸ”¥",-1)),e[34]||(e[34]=(0,s.Lk)("strong",null,"Daily Calories:",-1)),(0,s.eW)(" "+(0,t.v_)(a.daily_calories)+" kcal ",1)])):(0,s.Q3)("",!0)])]))),128))])):((0,s.uX)(),(0,s.CE)("div",I,[...e[35]||(e[35]=[(0,s.Lk)("div",{class:"empty-icon-large"},"ðŸ¥—",-1),(0,s.Lk)("p",null,"No meal plans yet. Your nutritionist will create one for you!",-1)])]))]),(0,s.Lk)("div",N,[(0,s.Lk)("button",{onClick:e[6]||(e[6]=(...a)=>B.logout&&B.logout(...a)),class:"logout-btn"},[...e[37]||(e[37]=[(0,s.Lk)("span",null,"ðŸšª",-1),(0,s.eW)(" Logout ",-1)])])])])])]),q.showAddGoal?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal-overlay",onClick:e[13]||(e[13]=(...a)=>B.cancelGoal&&B.cancelGoal(...a))},[(0,s.Lk)("div",{class:"modal-content",onClick:e[12]||(e[12]=(0,o.D$)(()=>{},["stop"]))},[e[44]||(e[44]=(0,s.Lk)("div",{class:"modal-header"},[(0,s.Lk)("h2",null,"ðŸŽ¯ Add New Goal")],-1)),(0,s.Lk)("form",{onSubmit:e[11]||(e[11]=(0,o.D$)((...a)=>B.saveGoal&&B.saveGoal(...a),["prevent"]))},[(0,s.Lk)("div",U,[e[39]||(e[39]=(0,s.Lk)("label",{for:"goalType"},[(0,s.Lk)("span",{class:"label-icon"},"ðŸŽ¯"),(0,s.eW)(" Goal Type ")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"goalType","onUpdate:modelValue":e[7]||(e[7]=a=>q.newGoal.goalType=a),required:""},[...e[38]||(e[38]=[(0,s.Fv)('<option value="" data-v-3d3d4476>-- Select Goal --</option><option value="Weight Loss" data-v-3d3d4476>Weight Loss</option><option value="Weight Gain" data-v-3d3d4476>Weight Gain</option><option value="Maintenance" data-v-3d3d4476>Maintenance</option><option value="Muscle Building" data-v-3d3d4476>Muscle Building</option>',5)])],512),[[o.u1,q.newGoal.goalType]])]),(0,s.Lk)("div",Q,[e[40]||(e[40]=(0,s.Lk)("label",{for:"targetWeight"},[(0,s.Lk)("span",{class:"label-icon"},"âš–ï¸"),(0,s.eW)(" Target Weight (kg) ")],-1)),(0,s.bo)((0,s.Lk)("input",{id:"targetWeight","onUpdate:modelValue":e[8]||(e[8]=a=>q.newGoal.targetWeight=a),type:"number",step:"0.1",placeholder:"e.g., 70",required:""},null,512),[[o.Jo,q.newGoal.targetWeight,void 0,{number:!0}]])]),(0,s.Lk)("div",x,[e[42]||(e[42]=(0,s.Lk)("label",{for:"activityLevel"},[(0,s.Lk)("span",{class:"label-icon"},"ðŸ’ª"),(0,s.eW)(" Activity Level ")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"activityLevel","onUpdate:modelValue":e[9]||(e[9]=a=>q.newGoal.activityLevel=a),required:""},[...e[41]||(e[41]=[(0,s.Fv)('<option value="" data-v-3d3d4476>-- Select Activity --</option><option value="sedentary" data-v-3d3d4476>Sedentary (little/no exercise)</option><option value="light" data-v-3d3d4476>Light (1-3 days/week)</option><option value="moderate" data-v-3d3d4476>Moderate (3-5 days/week)</option><option value="active" data-v-3d3d4476>Active (6-7 days/week)</option><option value="very_active" data-v-3d3d4476>Very Active (2x per day)</option>',6)])],512),[[o.u1,q.newGoal.activityLevel]])]),(0,s.Lk)("div",V,[(0,s.Lk)("button",{type:"button",onClick:e[10]||(e[10]=(...a)=>B.cancelGoal&&B.cancelGoal(...a)),class:"btn-secondary"},"Cancel"),e[43]||(e[43]=(0,s.Lk)("button",{type:"submit",class:"btn-primary"},[(0,s.Lk)("span",null,"ðŸ’¾"),(0,s.eW)(" Save Goal ")],-1))])],32)])])):(0,s.Q3)("",!0)])}l(4114),l(9112);var q=l(4300),B={name:"UserDashboard",data(){const a=JSON.parse(localStorage.getItem("user")||"{}");return{user:a,goals:[],showAddGoal:!1,newGoal:{goalType:"",targetWeight:"",activityLevel:""},mealPlans:[],successMessage:"",mobileMenuOpen:!1,sidebarOpen:!1}},mounted(){this.fetchGoals(),this.fetchMealPlans()},methods:{logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.$router.push("/")},async fetchGoals(){try{const a=await q.A.get("/goals");this.goals=a.data||[],console.log("Goals loaded:",this.goals)}catch(a){console.error("Error fetching goals:",a),401===a.response?.status&&alert("Session expired. Please login again.")}},async saveGoal(){if(this.newGoal.goalType&&this.newGoal.targetWeight&&this.newGoal.activityLevel)try{await q.A.post("/goals",{goalType:this.newGoal.goalType,targetWeight:this.newGoal.targetWeight,activityLevel:this.newGoal.activityLevel}),await this.fetchGoals(),this.cancelGoal(),this.successMessage="Goal added successfully!",setTimeout(()=>this.successMessage="",5e3)}catch(a){console.error("Error saving goal:",a),alert("Failed to save goal: "+(a.response?.data?.message||a.message))}else alert("Please fill all fields!")},async deleteGoal(a){if(confirm("Are you sure you want to delete this goal?"))try{await q.A.delete(`/goals/${a}`),alert("Goal deleted! âœ…"),await this.fetchGoals()}catch(e){console.error("Error deleting goal:",e),alert("Failed to delete goal: "+(e.response?.data?.message||e.message))}},cancelGoal(){this.showAddGoal=!1,this.newGoal={goalType:"",targetWeight:"",activityLevel:""}},async fetchMealPlans(){try{const a=await q.A.get("/meal-plans/my");this.mealPlans=a.data||[],console.log("Meal plans loaded:",this.mealPlans)}catch(a){console.error("Error fetching meal plans:",a),this.mealPlans=[]}},formatDate(a){if(!a)return"";const e=new Date(a);return e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}}},J=l(1241);const K=(0,J.A)(B,[["render",$],["__scopeId","data-v-3d3d4476"]]);var Y=K}}]);
//# sourceMappingURL=132.4d986426.js.map