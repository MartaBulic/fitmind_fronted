"use strict";(self["webpackChunkfitmind_frontend"]=self["webpackChunkfitmind_frontend"]||[]).push([[820],{820:function(a,e,l){l.r(e),l.d(e,{default:function(){return K}});var t=l(6768),s=l(4232),o=l(5130),n=l(3153);const i={class:"app-container"},c={class:"top-nav"},d={class:"nav-container"},r={class:"nav-actions"},u={class:"main-layout"},k={class:"sidebar-header"},v={class:"goals-list"},g={class:"goal-info"},p={class:"goal-details"},L={class:"goal-badge"},h={class:"activity-badge"},b={class:"goal-actions"},m=["onClick"],y={key:0,class:"empty-state"},G={class:"content-area"},f={class:"dashboard-content"},w={class:"welcome-section"},C={class:"welcome-text"},W={class:"stats-grid"},_={class:"stat-card goals-card"},A={class:"stat-card plans-card"},M={class:"meal-plans-section"},P={class:"section-header"},E={key:0,class:"meal-plans-list"},T={class:"plan-header"},O={class:"plan-date"},S={class:"plan-content"},F={class:"plan-from"},X={class:"plan-notes"},D={key:0,class:"plan-calories"},I={key:1,class:"empty-state-plans"},N={class:"logout-section"},U={class:"form-group"},Q={class:"form-group"},x={class:"form-group"},V={class:"modal-actions"};function $(a,e,l,$,q,R){const B=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("header",c,[(0,t.Lk)("div",d,[e[19]||(e[19]=(0,t.Lk)("div",{class:"logo-section"},[(0,t.Lk)("div",{class:"brand-logo"},[(0,t.Lk)("img",{src:n,alt:"Fit&Mind Logo"})]),(0,t.Lk)("span",{class:"brand-name"},"Fit&Mind")],-1)),(0,t.Lk)("nav",{class:(0,s.C4)(["nav-links",{"mobile-open":q.mobileMenuOpen}])},[(0,t.bF)(B,{to:"/",class:"nav-link"},{default:(0,t.k6)(()=>[...e[16]||(e[16]=[(0,t.eW)("HOME",-1)])]),_:1}),(0,t.bF)(B,{to:"/dashboard",class:"nav-link"},{default:(0,t.k6)(()=>[...e[17]||(e[17]=[(0,t.eW)("PROFILE",-1)])]),_:1}),(0,t.bF)(B,{to:"/contact",class:"nav-link"},{default:(0,t.k6)(()=>[...e[18]||(e[18]=[(0,t.eW)("CONTACT",-1)])]),_:1})],2),(0,t.Lk)("div",r,[a.showLanding?((0,t.uX)(),(0,t.CE)("button",{key:0,class:"nav-btn-login",onClick:e[0]||(e[0]=e=>a.goToAuth("login"))}," LOG IN ")):(0,t.Q3)("",!0),a.showLanding?((0,t.uX)(),(0,t.CE)("button",{key:1,class:"nav-btn-signup",onClick:e[1]||(e[1]=e=>a.goToAuth("register"))}," SIGN UP ")):(0,t.Q3)("",!0),(0,t.Lk)("button",{class:"mobile-menu-btn",onClick:e[2]||(e[2]=a=>q.mobileMenuOpen=!q.mobileMenuOpen)}," â˜° ")])])]),(0,t.Lk)("div",u,[(0,t.Lk)("aside",{class:(0,s.C4)(["sidebar",{"mobile-open":q.sidebarOpen}])},[(0,t.Lk)("div",k,[e[20]||(e[20]=(0,t.Lk)("h3",null,"MY GOALS",-1)),(0,t.Lk)("button",{class:"refresh-btn",onClick:e[3]||(e[3]=(...a)=>R.fetchGoals&&R.fetchGoals(...a)),title:"Refresh goals"},"ðŸ”„"),(0,t.Lk)("button",{class:"close-sidebar",onClick:e[4]||(e[4]=a=>q.sidebarOpen=!1)},"âœ•")]),(0,t.Lk)("div",v,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(q.goals,a=>((0,t.uX)(),(0,t.CE)("div",{key:a.id,class:"goal-item"},[(0,t.Lk)("div",g,[(0,t.Lk)("strong",null,(0,s.v_)(a.goalType),1),(0,t.Lk)("div",p,[(0,t.Lk)("span",L,"ðŸŽ¯ "+(0,s.v_)(a.targetWeight)+"kg",1),(0,t.Lk)("span",h,"ðŸ’ª "+(0,s.v_)(a.activityLevel),1)])]),(0,t.Lk)("div",b,[(0,t.Lk)("button",{onClick:e=>R.deleteGoal(a.id),class:"icon-btn delete",title:"Delete"},"ðŸ—‘",8,m)])]))),128)),0===q.goals.length?((0,t.uX)(),(0,t.CE)("div",y,[...e[21]||(e[21]=[(0,t.Lk)("span",{class:"empty-icon"},"ðŸŽ¯",-1),(0,t.Lk)("p",null,"No goals yet. Add your first goal!",-1)])])):(0,t.Q3)("",!0)]),(0,t.Lk)("button",{class:"add-goal-btn",onClick:e[5]||(e[5]=a=>q.showAddGoal=!0)},[...e[22]||(e[22]=[(0,t.Lk)("span",{class:"btn-icon"},"âž•",-1),(0,t.eW)(" Add New Goal ",-1)])])],2),(0,t.Lk)("main",G,[(0,t.Lk)("button",{class:"mobile-sidebar-toggle",onClick:e[6]||(e[6]=a=>q.sidebarOpen=!0)},[...e[23]||(e[23]=[(0,t.Lk)("span",null,"ðŸŽ¯",-1),(0,t.eW)(" My Goals ",-1)])]),(0,t.Lk)("div",f,[(0,t.Lk)("div",w,[e[26]||(e[26]=(0,t.Lk)("h1",null,"User Dashboard",-1)),(0,t.Lk)("p",C,[e[24]||(e[24]=(0,t.eW)("Welcome back, ",-1)),(0,t.Lk)("strong",null,(0,s.v_)(q.user.name),1),e[25]||(e[25]=(0,t.eW)("! ðŸŽ¯",-1))])]),(0,t.Lk)("div",W,[(0,t.Lk)("div",_,[e[27]||(e[27]=(0,t.Lk)("div",{class:"stat-icon"},"ðŸŽ¯",-1)),(0,t.Lk)("h3",null,(0,s.v_)(q.goals.length),1),e[28]||(e[28]=(0,t.Lk)("p",null,"Active Goals",-1))]),(0,t.Lk)("div",A,[e[29]||(e[29]=(0,t.Lk)("div",{class:"stat-icon"},"ðŸ“‹",-1)),(0,t.Lk)("h3",null,(0,s.v_)(q.mealPlans.length),1),e[30]||(e[30]=(0,t.Lk)("p",null,"Meal Plans",-1))])]),(0,t.Lk)("div",M,[(0,t.Lk)("div",P,[e[31]||(e[31]=(0,t.Lk)("h2",null,"ðŸ“‹ My Meal Plans",-1)),(0,t.Lk)("button",{onClick:e[7]||(e[7]=(...a)=>R.fetchMealPlans&&R.fetchMealPlans(...a)),class:"refresh-btn",title:"Refresh plans"},"ðŸ”„")]),q.mealPlans.length>0?((0,t.uX)(),(0,t.CE)("div",E,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(q.mealPlans,a=>((0,t.uX)(),(0,t.CE)("div",{key:a.id,class:"meal-plan-card"},[(0,t.Lk)("div",T,[(0,t.Lk)("h3",null,(0,s.v_)(a.goal_type||"General Plan"),1),(0,t.Lk)("span",O,(0,s.v_)(R.formatDate(a.created_at)),1)]),(0,t.Lk)("div",S,[(0,t.Lk)("p",F,[e[32]||(e[32]=(0,t.Lk)("span",{class:"from-icon"},"ðŸ‘¨â€âš•ï¸",-1)),e[33]||(e[33]=(0,t.Lk)("strong",null,"From:",-1)),(0,t.eW)(" "+(0,s.v_)(a.nutritionist?.name||"Nutritionist"),1)]),(0,t.Lk)("div",X,[e[34]||(e[34]=(0,t.Lk)("strong",null,"ðŸ“ Plan Details:",-1)),(0,t.Lk)("p",null,(0,s.v_)(a.notes),1)]),a.daily_calories?((0,t.uX)(),(0,t.CE)("div",D,[e[35]||(e[35]=(0,t.Lk)("span",{class:"calories-icon"},"ðŸ”¥",-1)),e[36]||(e[36]=(0,t.Lk)("strong",null,"Daily Calories:",-1)),(0,t.eW)(" "+(0,s.v_)(a.daily_calories)+" kcal ",1)])):(0,t.Q3)("",!0)])]))),128))])):((0,t.uX)(),(0,t.CE)("div",I,[...e[37]||(e[37]=[(0,t.Lk)("div",{class:"empty-icon-large"},"ðŸ¥—",-1),(0,t.Lk)("p",null,"No meal plans yet. Your nutritionist will create one for you!",-1)])]))]),(0,t.Lk)("div",N,[(0,t.Lk)("button",{onClick:e[8]||(e[8]=(...a)=>R.logout&&R.logout(...a)),class:"logout-btn"},[...e[38]||(e[38]=[(0,t.Lk)("span",null,"ðŸšª",-1),(0,t.eW)(" Logout ",-1)])])])])])]),q.showAddGoal?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"modal-overlay",onClick:e[15]||(e[15]=(...a)=>R.cancelGoal&&R.cancelGoal(...a))},[(0,t.Lk)("div",{class:"modal-content",onClick:e[14]||(e[14]=(0,o.D$)(()=>{},["stop"]))},[e[45]||(e[45]=(0,t.Lk)("div",{class:"modal-header"},[(0,t.Lk)("h2",null,"ðŸŽ¯ Add New Goal")],-1)),(0,t.Lk)("form",{onSubmit:e[13]||(e[13]=(0,o.D$)((...a)=>R.saveGoal&&R.saveGoal(...a),["prevent"]))},[(0,t.Lk)("div",U,[e[40]||(e[40]=(0,t.Lk)("label",{for:"goalType"},[(0,t.Lk)("span",{class:"label-icon"},"ðŸŽ¯"),(0,t.eW)(" Goal Type ")],-1)),(0,t.bo)((0,t.Lk)("select",{id:"goalType","onUpdate:modelValue":e[9]||(e[9]=a=>q.newGoal.goalType=a),required:""},[...e[39]||(e[39]=[(0,t.Fv)('<option value="" data-v-bd6277e0>-- Select Goal --</option><option value="Weight Loss" data-v-bd6277e0>Weight Loss</option><option value="Weight Gain" data-v-bd6277e0>Weight Gain</option><option value="Maintenance" data-v-bd6277e0>Maintenance</option><option value="Muscle Building" data-v-bd6277e0>Muscle Building</option>',5)])],512),[[o.u1,q.newGoal.goalType]])]),(0,t.Lk)("div",Q,[e[41]||(e[41]=(0,t.Lk)("label",{for:"targetWeight"},[(0,t.Lk)("span",{class:"label-icon"},"âš–ï¸"),(0,t.eW)(" Target Weight (kg) ")],-1)),(0,t.bo)((0,t.Lk)("input",{id:"targetWeight","onUpdate:modelValue":e[10]||(e[10]=a=>q.newGoal.targetWeight=a),type:"number",step:"0.1",placeholder:"e.g., 70",required:""},null,512),[[o.Jo,q.newGoal.targetWeight,void 0,{number:!0}]])]),(0,t.Lk)("div",x,[e[43]||(e[43]=(0,t.Lk)("label",{for:"activityLevel"},[(0,t.Lk)("span",{class:"label-icon"},"ðŸ’ª"),(0,t.eW)(" Activity Level ")],-1)),(0,t.bo)((0,t.Lk)("select",{id:"activityLevel","onUpdate:modelValue":e[11]||(e[11]=a=>q.newGoal.activityLevel=a),required:""},[...e[42]||(e[42]=[(0,t.Fv)('<option value="" data-v-bd6277e0>-- Select Activity --</option><option value="sedentary" data-v-bd6277e0>Sedentary (little/no exercise)</option><option value="light" data-v-bd6277e0>Light (1-3 days/week)</option><option value="moderate" data-v-bd6277e0>Moderate (3-5 days/week)</option><option value="active" data-v-bd6277e0>Active (6-7 days/week)</option><option value="very_active" data-v-bd6277e0>Very Active (2x per day)</option>',6)])],512),[[o.u1,q.newGoal.activityLevel]])]),(0,t.Lk)("div",V,[(0,t.Lk)("button",{type:"button",onClick:e[12]||(e[12]=(...a)=>R.cancelGoal&&R.cancelGoal(...a)),class:"btn-secondary"},"Cancel"),e[44]||(e[44]=(0,t.Lk)("button",{type:"submit",class:"btn-primary"},[(0,t.Lk)("span",null,"ðŸ’¾"),(0,t.eW)(" Save Goal ")],-1))])],32)])])):(0,t.Q3)("",!0)])}l(4114),l(9112);var q=l(4300),R={name:"UserDashboard",data(){const a=JSON.parse(localStorage.getItem("user")||"{}");return{user:a,goals:[],showAddGoal:!1,newGoal:{goalType:"",targetWeight:"",activityLevel:""},mealPlans:[],mobileMenuOpen:!1,sidebarOpen:!1}},mounted(){this.fetchGoals(),this.fetchMealPlans()},methods:{logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.$router.push("/")},async fetchGoals(){try{const a=await q.A.get("/goals");this.goals=a.data||[],console.log("Goals loaded:",this.goals)}catch(a){console.error("Error fetching goals:",a),401===a.response?.status&&alert("Session expired. Please login again.")}},async saveGoal(){if(this.newGoal.goalType&&this.newGoal.targetWeight&&this.newGoal.activityLevel)try{await q.A.post("/goals",{goalType:this.newGoal.goalType,targetWeight:this.newGoal.targetWeight,activityLevel:this.newGoal.activityLevel}),alert("Goal added successfully! âœ…"),await this.fetchGoals(),this.cancelGoal()}catch(a){console.error("Error saving goal:",a),alert("Failed to save goal: "+(a.response?.data?.message||a.message))}else alert("Please fill all fields!")},async deleteGoal(a){if(confirm("Are you sure you want to delete this goal?"))try{await q.A.delete(`/goals/${a}`),alert("Goal deleted! âœ…"),await this.fetchGoals()}catch(e){console.error("Error deleting goal:",e),alert("Failed to delete goal: "+(e.response?.data?.message||e.message))}},cancelGoal(){this.showAddGoal=!1,this.newGoal={goalType:"",targetWeight:"",activityLevel:""}},async fetchMealPlans(){try{const a=await q.A.get("/meal-plans/my");this.mealPlans=a.data||[],console.log("Meal plans loaded:",this.mealPlans)}catch(a){console.error("Error fetching meal plans:",a),this.mealPlans=[]}},formatDate(a){if(!a)return"";const e=new Date(a);return e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}}},B=l(1241);const J=(0,B.A)(R,[["render",$],["__scopeId","data-v-bd6277e0"]]);var K=J}}]);
//# sourceMappingURL=820.dac1f2f1.js.map